# Крипто-парсинг на Python
Этот проект состоит из двух модулей: первый собирает актуальные цены криптовалют с платформы Deribit и сохраняет их в базе данных SQLite, а второй предоставляет API на основе фреймворка FastAPI для взаимодействия с этой базой данных.

База данных хранится в файле "prices.db".

## Модули

### Модуль 1 (client): Сбор данных с Deribit

#### Описание
Этот модуль получает актуальные цены криптовалют с Deribit и сохраняет данные в базе данных SQLite, обновляя информацию каждую минуту. 
Используются библиотеки asyncio, aiohttp, sqlite3 и datetime. Логи сохраняются в файл "client.log".

#### Основные функции
- receiving_price: Асинхронная функция, которая отправляет GET-запросы к API Deribit для получения текущих цен криптовалют.
- save_price_db: Асинхронная функция для сохранения полученных данных в базу данных SQLite.
- main: Основная функция, управляющая процессом сбора данных и записи их в базу каждые 60 секунд.

### Модуль 2 (api): API на FastAPI

#### Описание
Модуль реализует API с использованием фреймворка FastAPI для предоставления информации о данных валют в разных временных интервалах. 
Пользователи могут запрашивать данные по виду валют по всем изменениям, по последней цене, данные по цене за определенные периоды времени.
В модуле настроено логирование - сохранение логов в файл "api.log"

#### Функции API
- /prices/{ticker}: Возвращает все доступные данные по указанному виду валюты (тикеру)
- /prices/latest/{ticker}: Возвращает последную информацию о цене по указанному виду валюты (тикеру).
- /prices/date/{ticker}/{start_date}/{end_date}: Возврат данных по валюте (тикеру) за указанный интервал времени.

## Установка и запуск

### Docker
возможен запуск через Docker, который сразу запускает два модуля

### Установка зависимостей
pip install -r requirements.txt

